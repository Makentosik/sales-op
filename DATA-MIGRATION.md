# üì¶ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö SQLite ‚Üí PostgreSQL

## üéØ –¶–µ–ª—å
–≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ SQLite (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞) –∏ –∏–º–ø–æ—Ä—Ç –≤ PostgreSQL (–ø—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–∞ Vercel).

## üìã –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** (admin, test users)
- ‚úÖ **–ì—Ä–µ–π–¥—ã** (–≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ —Å —Ü–≤–µ—Ç–∞–º–∏)
- ‚úÖ **–£—á–∞—Å—Ç–Ω–∏–∫–∏** (–º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å –∏—Ö –¥–∞–Ω–Ω—ã–º–∏)
- ‚úÖ **–ü–µ—Ä–∏–æ–¥—ã** (–∞–∫—Ç–∏–≤–Ω—ã–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ)
- ‚úÖ **–ü–ª–∞—Ç–µ–∂–∏** (–∏—Å—Ç–æ—Ä–∏—è –≤—ã–ø–ª–∞—Ç)
- ‚úÖ **–õ–æ–≥–∏** (–∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π)
- ‚úÖ **–ü–µ—Ä–µ—Ö–æ–¥—ã –≥—Ä–µ–π–¥–æ–≤** (–∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ SQLite

```bash
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É backend
cd backend

# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
npm run export-data
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `exports/data-export-YYYY-MM-DD.json` - –ø–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
- `exports/essential-data-export-YYYY-MM-DD.json` - —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

1. **–ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å—Ö–µ–º—É Prisma –Ω–∞ PostgreSQL:**
   ```bash
   cd backend
   cp prisma/schema.production.prisma prisma/schema.prisma
   npx prisma generate
   ```

2. **–°–æ–∑–¥–∞–µ–º PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   - Vercel Postgres (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - Supabase
   - Railway
   - Neon

3. **–ü–æ–ª—É—á–∞–µ–º DATABASE_URL** –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
   ```
   postgresql://user:password@host:port/database
   ```

### –®–∞–≥ 3: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vercel

1. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel:**
   ```bash
   DATABASE_URL=postgresql://your-database-url-here
   JWT_SECRET=your-super-secure-jwt-secret
   JWT_EXPIRES_IN=24h
   NODE_ENV=production
   ```

2. **–†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –ø—Ä–æ–µ–∫—Ç:**
   ```bash
   # –ß–µ—Ä–µ–∑ CLI
   vercel --prod
   
   # –ò–ª–∏ —á–µ—Ä–µ–∑ GitHub integration
   git add .
   git commit -m "Ready for production"
   git push origin main
   ```

### –®–∞–≥ 4: –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –±–∞–∑–µ
DATABASE_URL="postgresql://your-url" npm run import-data:force

# –ò–ª–∏ –∏–º–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
DATABASE_URL="postgresql://your-url" node scripts/import-data.js data-export-2025-09-30.json --force-clear
```

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞

```json
{
  "metadata": {
    "exportDate": "2025-09-30T08:00:00.000Z",
    "source": "SQLite",
    "version": "1.0"
  },
  "data": {
    "users": [...],        // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
    "grades": [...],       // –ì—Ä–µ–π–¥—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
    "participants": [...], // –ú–µ–Ω–µ–¥–∂–µ—Ä—ã
    "periods": [...],      // –ü–µ—Ä–∏–æ–¥—ã
    "payments": [...],     // –ü–ª–∞—Ç–µ–∂–∏
    "logs": [...],         // –õ–æ–≥–∏
    "gradeTransitions": [...] // –ü–µ—Ä–µ—Ö–æ–¥—ã –≥—Ä–µ–π–¥–æ–≤
  },
  "statistics": {
    "users": 2,
    "grades": 6,
    "participants": 3,
    "periods": 1
  }
}
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (bcrypt)
- **JWT —Å–µ–∫—Ä–µ—Ç—ã** –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ)
- **–§–∞–π–ª—ã —ç–∫—Å–ø–æ—Ä—Ç–∞** –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ .gitignore

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–§–ª–∞–≥ --force-clear** –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç —Ü–µ–ª–µ–≤—É—é –ë–î –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º
2. **ID –∑–∞–ø–∏—Å–µ–π** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è (UUID)
3. **–°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏** –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ SQLite:

```bash
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º SQLite —Å—Ö–µ–º—É
cp prisma/schema.prisma.backup prisma/schema.prisma

# –ò–ª–∏ –∑–∞–Ω–æ–≤–æ —Å–æ–∑–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ
npx prisma db seed
```

## üìÅ –§–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–∏

- `backend/scripts/export-data.js` - —ç–∫—Å–ø–æ—Ä—Ç –∏–∑ SQLite
- `backend/scripts/import-data.js` - –∏–º–ø–æ—Ä—Ç –≤ PostgreSQL
- `backend/exports/` - –ø–∞–ø–∫–∞ —Å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- `backend/prisma/schema.production.prisma` - —Å—Ö–µ–º–∞ –¥–ª—è PostgreSQL

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. ‚úÖ –õ–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç (admin@test.com / admin123)
2. ‚úÖ –ì—Ä–µ–π–¥—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏
3. ‚úÖ –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. ‚úÖ –†–∞—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
5. ‚úÖ –ü–µ—Ä–∏–æ–¥—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –º–∏–≥—Ä–∞—Ü–∏–∏:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ DATABASE_URL
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ PostgreSQL
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ö–µ–º–∞ Prisma —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–ª–µ–≤–æ–π –ë–î